<div class="verify-container">
  <div class="header-section">
    <h2>üîê Verificar C√≥digo</h2>
  </div>

  <div class="step-container">
    <div class="step-title">
      Ingresa el c√≥digo de 6 d√≠gitos enviado a tu correo electr√≥nico
    </div>

    <form [formGroup]="otpForm" (ngSubmit)="verifyOtp()">
      <div class="form-group">
        <label for="otp-0">C√≥digo de verificaci√≥n</label>

        <!-- Cajas OTP -->
        <div class="otp-grid" role="group" aria-label="C√≥digo de verificaci√≥n de 6 d√≠gitos">
          <input *ngFor="let i of otpIdx"
                 class="otp-box"
                 [id]="'otp-' + i"
                 type="text"
                 inputmode="numeric"
                 pattern="[0-9]*"
                 maxlength="1"
                 [formControlName]="i.toString()"
                 (input)="onOtpInput(i, $event)"
                 (keydown)="onOtpKeydown(i, $event)"
                 (paste)="onOtpPaste($event)"/>
        </div>
      </div>

      <button type="submit"
              class="primary-button"
              [disabled]="loading || otpForm.invalid"
              [class.loading]="loading">
        <span *ngIf="!loading">Verificar c√≥digo</span>
        <span *ngIf="loading" class="loading-spinner"></span>
      </button>

      <button type="button" class="secondary-button" (click)="backToLogin()">
        ‚Üê Volver al login
      </button>
    </form>
  </div>
</div>
