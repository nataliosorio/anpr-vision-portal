<ul class="navbar-nav ms-auto">

  <li>
    <!-- contenedor con panel + referencia a ngbDropdown -->
   <div class="notif-dropdown" ngbDropdown #notifDropdown="ngbDropdown" [autoClose]="'outside'" placement="bottom-end">
  <!-- trigger -->
  <button class="notif-trigger" ngbDropdownToggle type="button" aria-haspopup="menu" aria-expanded="false" aria-controls="notif-panel-1">
    <i class="icon feather icon-bell" title="Notificaciones" aria-hidden="true"></i>
    <span class="notif-badge"><span class="sr-only">Nuevas notificaciones</span></span>
  </button>

      <!-- panel (menu) -->
      <div ngbDropdownMenu class="notif-modal" id="notif-panel-1" role="menu" aria-label="Notificaciones recientes">
        <!-- Header del modal -->
        <div class="notif-header">
          <h6 class="notif-title">Notificaciones</h6>
        </div>

        <!-- Contenido de notificaciones -->

        <div class="notif-content">
  <!-- Si no hay notificaciones -->
  <div *ngIf="notifications.length === 0" class="notif-empty">
    <i class="feather icon-bell-off"></i>
    <p>No hay notificaciones recientes</p>
  </div>

  <!-- Listado dinámico con agrupación visual -->
  <div *ngIf="notifications.length > 0" class="notif-list">
    <div
      class="notif-item"
      *ngFor="let n of notifications; let i = index"
      role="menuitem"
      tabindex="0"
      [ngClass]="{ 'notif-unread': !n.isRead }"
      [attr.data-index]="i"
    >
      <!-- Avatar/Icono según tipo -->


      <!-- Contenido -->
      <div class="notif-details">
        <div class="notif-user-info">
          <span class="notif-username">{{ n.title }}</span>
          <span class="notif-timestamp">
            <i class="feather icon-clock"></i>
            {{ n.createdAt | date:'shortTime' }}
          </span>
        </div>
        <p class="notif-message" [innerHTML]="n.message"></p>
      </div>

      <!-- Indicador de no leído -->
      <div class="notif-indicator" aria-hidden="true"></div>
    </div>
  </div>
</div>

        <!-- <div class="notif-content">
  <div class="notif-section">

    <div *ngIf="notifications.length === 0" class="p-3 text-center text-muted">
      No hay notificaciones recientes
    </div>

    <div
      class="notif-item"
      *ngFor="let n of notifications"
      role="menuitem"
      tabindex="0"
      [ngClass]="{ 'notif-unread': !n.isRead }"
    >


      <div class="notif-details">
        <div class="notif-user-info">
          <span class="notif-username">{{ n.title }}</span>
          <span class="notif-timestamp">
            <i class="icon feather icon-clock"></i>
            {{ n.createdAt | date:'shortTime' }}
          </span>
        </div>
        <p class="notif-message" [innerHTML]="n.message"></p>
      </div>

      <div class="notif-indicator" aria-hidden="true"></div>
    </div>

  </div>
</div> -->

      </div>
    </div>
  </li>

  <li>
    <div class="dropdown drp-user" ngbDropdown placement="auto">
      <a href="javascript:" ngbDropdownToggle>
        <div class="patient-photo">
          {{ firstLetter }}
        </div>
      </a>
      <div class="dropdown-menu dropdown-menu-end profile-notification" ngbDropdownMenu>
        <div class="pro-head">
          <span>{{userName}}</span>
        </div>
        <ul class="pro-body">
          <!-- <li>
            <button class="dropdown-item" (click)="viewProfile()" >
              <i class="feather icon-user"></i>
              Perfil
            </button>
          </li> -->

          <li>
            <button class="dropdown-item" (click)="configuracion()" >
              <i class="feather icon-settings"></i>
              Configuración
            </button>
          </li>
          <li>
            <button class="dropdown-item" (click)="cerrarSesion()" >
              <i class="feather icon-lock"></i>
              Cerrar sesión
            </button>
          </li>
        </ul>
      </div>
    </div>
  </li>
</ul>


